<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Perfil - Academia</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #0a0a0a;
            color: #ffffff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

   


        .back-btn {
            background-color:#00ff40;
            color: #000000;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .back-btn:hover {
            background-color: #00ff40;
            transform: translateY(-2px);
        }

        .edit-section {
            background-color: #1a1a1a;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 2px 15px rgba(0, 255, 136, 0.2);
        }

        .section-title {
            font-size: 22px;
            color: #00ff40;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #00ff40;
        }

        .profile-photo-edit {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .profile-photo-preview {
            width: 122px;
            height: 122px;
            border-radius: 50%;
            background-color: #000000;
            border: 3px solid #00ff40;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .profile-photo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-photo-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #00ff40;
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #333;
            border-radius: 6px;
            background-color: #000000;
            color: #ffffff;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color:#00ff40;
        }

        .btn-primary {
            background-color:#00ff40;
            color: #000000;
            border: none;
            padding: 12px 30px;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
        }

        .btn-primary:hover {
            background-color: #00ff40;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.4);
        }

        .btn-secondary {
            background-color: #333;
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background-color: #444;
        }

        .file-input {
            display: none;
        }

        .photo-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .photo-modal-overlay.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .photo-modal-content {
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
            border: 2px solid #00ff40;
            border-radius: 12px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 255, 136, 0.3);
            animation: slideInCenter 0.3s ease;
        }

        .photo-modal-content h2 {
            color: #00ff40;
            font-size: 24px;
            margin-bottom: 30px;
        }

        .photo-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .photo-option-btn {
            padding: 15px 20px;
            border: 2px solid #00ff40;
            border-radius: 8px;
            background-color: #000000;
            color: #00ff40;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .photo-option-btn:hover {
            background-color: #00ff40;
            color: #000000;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.4);
        }

        .photo-option-btn.cancel {
            border-color: #667;
            color: #999;
        }

        .photo-option-btn.cancel:hover {
            background-color: #333;
            color: #ffffff;
            border-color: #999;
        }

        .photo-option-btn.danger {
            background-color: #ff4444;
            border-color: #ff4444;
            color: white;
        }

        .photo-option-btn.danger:hover {
            background-color: #cc0000;
        }

        .photo-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #333;
        }

        .photo-tab {
            padding: 12px 20px;
            background: none;
            border: none;
            color: #999;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
        }

        .photo-tab.active {
            color:#00ff40;
            border-bottom-color: #00ff40;
        }

        .photo-tab:hover {
            color:#00ff40; 
        }

        .photo-tab-content {
            display: none;
        }

        .photo-tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .success-message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color:#00ff40;
            color: #000000;
            padding: 15px 30px;
            border-radius: 6px;
            font-weight: bold;
            z-index: 3000;
            box-shadow: 0 4px 20px rgba(0, 255, 136, 0.4);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .success-message.show {
            opacity: 1;
            pointer-events: auto;
            animation: slideDown 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInCenter {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        @media (max-width: 768px) {
            .profile-photo-edit {
                flex-direction: column;
                text-align: center;
            }

            .profile-photo-controls {
                width: 100%;
            }

            .profile-photo-controls .btn-primary {
                width: 100%;
            }

            .photo-modal-content {
                margin: 20px;
                max-width: 90%;
            }
        }
        /* ========== MODO CLARO ========== */
body.light-mode {
    background: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%);
    color: #000000;
}

body.light-mode .edit-section {
    background-color: #ffffff;
    box-shadow: 0 2px 15px rgba(0, 200, 83, 0.2);
}

body.light-mode .section-title {
    color: #00a82d;
    border-bottom: 2px solid #00a82d;
}

body.light-mode .form-group label {
    color: #00a82d;
}

body.light-mode .form-group input,
body.light-mode .form-group textarea {
    background-color: #f8f8f8;
    color: #000000;
    border: 2px solid #ddd;
}

body.light-mode .form-group input:focus,
body.light-mode .form-group textarea:focus {
    border-color: #00a82d;
}

body.light-mode .btn-primary {
    background-color: #00a82d;
    color: #ffffff;
}

body.light-mode .btn-primary:hover {
    background-color: #008c25;
    box-shadow: 0 4px 15px rgba(0, 168, 45, 0.4);
}

body.light-mode .btn-secondary {
    background-color: #666;
    color: #ffffff;
}

body.light-mode .btn-secondary:hover {
    background-color: #777;
}

body.light-mode .back-btn {
    background-color: #00a82d;
    color: #ffffff;
}

body.light-mode .profile-photo-preview {
    background-color: #f0f0f0;
    border: 3px solid #00a82d;
}

body.light-mode .photo-modal-content {
    background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
    border: 2px solid #00a82d;
    color: #000000;
}

body.light-mode .photo-modal-content h2 {
    color: #00a82d;
}

body.light-mode .photo-option-btn {
    background-color: #f8f8f8;
    color: #00a82d;
    border: 2px solid #00a82d;
}

body.light-mode .photo-option-btn:hover {
    background-color: #00a82d;
    color: #ffffff;
}

body.light-mode .photo-option-btn.cancel {
    border-color: #999;
    color: #666;
}

body.light-mode .photo-option-btn.cancel:hover {
    background-color: #999;
    color: #ffffff;
}

body.light-mode .photo-option-btn.danger {
    background-color: #ff4444;
    border-color: #ff4444;
    color: white;
}

body.light-mode .photo-option-btn.danger:hover {
    background-color: #cc0000;
}

body.light-mode .photo-tabs {
    border-bottom: 2px solid #ddd;
}

body.light-mode .photo-tab {
    color: #666;
}

body.light-mode .photo-tab.active {
    color: #00a82d;
    border-bottom-color: #00a82d;
}

body.light-mode .photo-tab:hover {
    color: #00a82d;
}

body.light-mode .success-message {
    background-color: #00a82d;
    color: #ffffff;
}

/* Ajustes para texto no modo claro */
body.light-mode p {
    color: #666;
}

body.light-mode .profile-photo-controls p {
    color: #666;
}
    </style>
</head>
<body>
    <div class="success-message" id="successMessage">
        ✓ Alterações salvas com sucesso!
    </div>

    <!-- Modal de Seleção de Foto -->
    <div class="photo-modal-overlay" id="photoModal">
        <div class="photo-modal-content">
            <h2>Alterar Foto de Perfil</h2>
            
            <div class="photo-tabs">
                <button class="photo-tab active" onclick="mudarAbaSuperior('upload')">
                    Escolher Foto
                </button>
                <button class="photo-tab" onclick="mudarAbaSuperior('remover')" id="abRemover">
                     Remover Foto
                </button>
            </div>

            <div id="tabUpload" class="photo-tab-content active">
                <div class="photo-options">
                    <button class="photo-option-btn" onclick="selecionarFotoDaGaleria()">
                         Escolher da Galeria
                    </button>
                    <button class="photo-option-btn cancel" onclick="fecharPhotoModal()">
                         Cancelar
                    </button>
                </div>
            </div>

            <div id="tabRemover" class="photo-tab-content">
                <div class="photo-options">
                    <p style="color: #cccccc; margin-bottom: 20px;">
                        Tem certeza que deseja remover sua foto de perfil?
                    </p>
                    <button class="photo-option-btn danger" onclick="removerFotoDePerfil()">
                         Remover Foto
                    </button>
                    <button class="photo-option-btn cancel" onclick="mudarAbaSuperior('upload')">
                        ← Voltar
                    </button>
                </div>
            </div>
        </div>
    </div>
    

    <div class="container">
        <div class="edit-section">
            <h2 class="section-title">Informações da Academia</h2>
            
            <div class="profile-photo-edit">
                <div class="profile-photo-preview" id="photoPreview">
                    <img src="https://via.placeholder.com/150/00ff88/000000?text=GYM" alt="" id="profileImage">
                </div>
                <div class="profile-photo-controls">
                    <button class="btn-primary" onclick="abrirPhotoModal()">
                         Alterar Foto de Perfil
                    </button>
                    <p style="color: #999; margin-top: 10px; font-size: 14px;">
                        Recomendado: 300x300px, JPG ou PNG (máx 5MB)
                    </p>
                </div>
            </div>
            <input type="file" id="profilePhotoInput" class="file-input" accept="image/*">

            <form id="profileForm">
                <div class="form-group">
                    <label for="gymName">Nome da Academia</label>
                    <input type="text" id="gymName" placeholder="Ex: Academia FitPro" required>
                </div>

                <div class="form-group">
                    <label for="description">Descrição da Academia</label>
                    <textarea id="description" rows="6" placeholder="Conte mais sobre sua academia. Você pode adicionar informações como horários, especialidades, diferenciais, etc..."></textarea>
                </div>

                <button type="submit" class="btn-primary"> Salvar Alterações</button>
                <button type="button" class="btn-secondary" onclick="cancelarEdicao()"> Cancelar</button>
            </form>
        </div>
    </div>

    <script>
const perfilManager = {
    dadosPadrão: {
        gymName: 'Usuário do GymP2',
        description: 'Nenhuma descrição adicionada ainda.',
        profilePhoto: 'https://via.placeholder.com/150/00ff88/000000?text=GYM'
    },

    obterDados: function() {
        const dadosSalvos = localStorage.getItem('dadosPerfilAcademia');
        return dadosSalvos ? JSON.parse(dadosSalvos) : this.dadosPadrão;
    },

    salvarDados: function(novosDados) {
        const dadosAtuais = this.obterDados();
        const dadosMesclados = { ...dadosAtuais, ...novosDados };
        localStorage.setItem('dadosPerfilAcademia', JSON.stringify(dadosMesclados));
        return dadosMesclados;
    }
};

function voltarPerfil() {
    window.location.href = 'perfil.html';
}

function cancelarEdicao() {
    if (confirm('Tem certeza que deseja cancelar? As alterações não salvas serão perdidas.')) {
        voltarPerfil();
    }
}

function mostrarMensagemSucesso() {
    const msgEl = document.getElementById('successMessage');
    msgEl.classList.add('show');
    
    setTimeout(() => {
        msgEl.classList.remove('show');
    }, 2000);
}

function abrirPhotoModal() {
    document.getElementById('photoModal').classList.add('show');
    mudarAbaSuperior('upload');
    
    const fotoAtual = document.getElementById('profileImage').src;
    const temFoto = !fotoAtual.includes('SEM+FOTO') && fotoAtual !== 'https://via.placeholder.com/150/00ff88/000000?text=GYM';
    
    const abRemover = document.getElementById('abRemover');
    abRemover.style.display = temFoto ? 'block' : 'none';
}

function fecharPhotoModal() {
    document.getElementById('photoModal').classList.remove('show');
}

function mudarAbaSuperior(aba) {
    const tabs = document.querySelectorAll('.photo-tab');
    const contents = document.querySelectorAll('.photo-tab-content');
    
    tabs.forEach(tab => tab.classList.remove('active'));
    contents.forEach(content => content.classList.remove('active'));
    
    if (aba === 'upload') {
        tabs[0].classList.add('active');
        document.getElementById('tabUpload').classList.add('active');
    } else if (aba === 'remover') {
        tabs[1].classList.add('active');
        document.getElementById('tabRemover').classList.add('active');
    }
}

function selecionarFotoDaGaleria() {
    fecharPhotoModal();
    document.getElementById('profilePhotoInput').click();
}

function removerFotoDePerfil() {
    const fotoPadrao = 'https://via.placeholder.com/150/00ff88/000000?text=SEM+FOTO';
    document.getElementById('profileImage').src = fotoPadrao;
    perfilManager.salvarDados({ profilePhoto: fotoPadrao });
    
    // Mostra mensagem de sucesso e redireciona para o perfil
    mostrarMensagemSucesso();
    fecharPhotoModal();
    
    // Redireciona para a página de perfil após um breve delay
    setTimeout(() => {
        voltarPerfil();
    }, 1000);
}

function converterImagemParaBase64(file, callback) {
    const reader = new FileReader();
    reader.onload = function(e) {
        callback(e.target.result);
    };
    reader.readAsDataURL(file);
}

// Inicialização
document.addEventListener('DOMContentLoaded', function() {
    const dados = perfilManager.obterDados();
    
    document.getElementById('gymName').value = dados.gymName;
    document.getElementById('description').value = dados.description;
    document.getElementById('profileImage').src = dados.profilePhoto;
});

// Submit do formulário
document.getElementById('profileForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const gymName = document.getElementById('gymName').value;
    const description = document.getElementById('description').value;
    
    perfilManager.salvarDados({
        gymName: gymName,
        description: description
    });
    
    mostrarMensagemSucesso();
    
    setTimeout(() => {
        voltarPerfil();
    }, 1500);
});

// Upload de foto
document.getElementById('profilePhotoInput').addEventListener('change', function(e) {
    if (e.target.files && e.target.files[0]) {
        const file = e.target.files[0];
        
        if (file.size > 5 * 1024 * 1024) {
            alert('A imagem deve ter no máximo 5MB');
            return;
        }
        
        converterImagemParaBase64(file, function(base64) {
            document.getElementById('profileImage').src = base64;
            perfilManager.salvarDados({ profilePhoto: base64 });
            mostrarMensagemSucesso();
        });
    }
});
    </script>
    <script>
    // Aplicar configurações globais - PARA TODAS AS PÁGINAS
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Aplicando configurações globais na página de edição...');
        applyGlobalSettings();
    });

    function applyGlobalSettings() {
        // Carregar configurações salvas
        const savedTheme = localStorage.getItem('gym-theme') || 'dark';
        const savedFontSize = localStorage.getItem('gym-fontSize') || 'medium';
        
        console.log('Configurações carregadas:', { savedTheme, savedFontSize });
        
        // Aplicar tema
        if (savedTheme === 'light') {
            document.body.classList.add('light-mode');
            console.log('Modo claro aplicado na edição');
        } else {
            document.body.classList.remove('light-mode');
            console.log('Modo escuro aplicado na edição');
        }
        
        // Aplicar tamanho da fonte
        applyFontSize(savedFontSize);
    }

    function applyFontSize(size) {
        const sizes = {
            'small': { 
                h1: '28px', 
                h2: '22px', 
                h3: '18px',
                normal: '14px', 
                small: '12px',
                button: '14px',
                title: '20px'
            },
            'medium': { 
                h1: '32px', 
                h2: '26px', 
                h3: '22px',
                normal: '16px', 
                small: '14px',
                button: '16px',
                title: '24px'
            },
            'large': { 
                h1: '36px', 
                h2: '30px', 
                h3: '26px',
                normal: '18px', 
                small: '16px',
                button: '18px',
                title: '28px'
            }
        };

        const currentSizes = sizes[size];
        
        console.log('Aplicando tamanho de fonte na edição:', size, currentSizes);
        
        // Aplicar a todos os elementos
        setTimeout(() => {
            // Títulos das seções
            document.querySelectorAll('.section-title').forEach(el => {
                el.style.fontSize = currentSizes.title;
            });
            
            // Labels dos formulários
            document.querySelectorAll('.form-group label').forEach(el => {
                el.style.fontSize = currentSizes.normal;
            });
            
            // Inputs e textareas
            document.querySelectorAll('.form-group input, .form-group textarea').forEach(el => {
                el.style.fontSize = currentSizes.normal;
            });
            
            // Botões
            document.querySelectorAll('.btn-primary, .btn-secondary, .back-btn, .photo-option-btn').forEach(el => {
                el.style.fontSize = currentSizes.button;
            });
            
            // Textos de ajuda
            document.querySelectorAll('p, .profile-photo-controls p').forEach(el => {
                el.style.fontSize = currentSizes.small;
            });
            
            // Tabs do modal
            document.querySelectorAll('.photo-tab').forEach(el => {
                el.style.fontSize = currentSizes.small;
            });
            
            // Título do modal
            document.querySelectorAll('.photo-modal-content h2').forEach(el => {
                el.style.fontSize = currentSizes.h3;
            });

            console.log('Tamanhos de fonte aplicados na edição com sucesso');
        }, 100);
    }

    // Função para voltar ao perfil (se necessário)
    function voltarAoPerfil() {
        window.location.href = 'perfil.html';
    }

    // Adicionar botão de voltar se não existir
    document.addEventListener('DOMContentLoaded', function() {
        // Verificar se já existe um botão de voltar
        const existingBackBtn = document.querySelector('.back-btn');
        if (!existingBackBtn) {
            // Criar botão de voltar
            const backBtn = document.createElement('button');
            backBtn.className = 'back-btn';
            backBtn.textContent = '← Voltar ao Perfil';
            backBtn.onclick = voltarAoPerfil;
            
            // Inserir no início do container
            const container = document.querySelector('.container');
            container.insertBefore(backBtn, container.firstChild);
        }
    });
</script>
</body>
</html>
